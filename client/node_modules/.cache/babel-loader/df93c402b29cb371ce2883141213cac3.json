{"ast":null,"code":"import _slicedToArray from \"/Users/vlv/42/Matcha/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/vlv/42/Matcha/client/src/Components/Navbar/Components/NotificationBell/NotificationBell.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Popper from \"@material-ui/core/Popper\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport { AuthContext } from \"../../../../AuthContext\";\nimport axios from \"axios\";\nimport NotificationCard from \"./NotificationCard\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nconst filledNotifArray = [];\n\nfunction NotificationBell() {\n  const notifArray = new Array();\n\n  const _useContext = useContext(AuthContext),\n        _useContext2 = _slicedToArray(_useContext, 2),\n        socketContext = _useContext2[0],\n        authContext = _useContext2[1];\n\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        nbNotif = _useState2[0],\n        setNbNotif = _useState2[1]; // socketContext.notifArray ? socketContext.notifArray.length : 0\n  // );\n\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        anchorEl = _useState4[0],\n        setAnchorEl = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        open = _useState6[0],\n        setOpen = _useState6[1];\n\n  const id = open ? \"simple-popper\" : undefined;\n\n  const handleNotif = e => {\n    console.log(\"onclick, fillednotif :\", filledNotifArray);\n    setAnchorEl(e.currentTarget);\n    setOpen(true);\n  };\n\n  const handleClickAway = () => {\n    // console.log(\"click away\", notifArray);\n    if (open) {\n      console.log(\"click away, notif errased\", notifArray); //   notifArray.length = 0;\n      //   filledNotifArray.length = 0;\n      //   axios.post(\"http://localhost:9000/api/notif/delete\", {\n      //     jwt: authContext.data.jwt,\n      //     uuidSource: authContext.data.uuid\n      //   });\n      //   setNbNotif(0);\n    }\n\n    setOpen(false);\n  };\n\n  const fetchAllData = async notifArray => {\n    notifArray.length === 0 && (await fetchBrutNotif(notifArray));\n    fetchUserData(notifArray);\n  }; // GET THE RAW DATA FROM THE BACK ONCE AND PUT IT IN NOTIFARRAY\n\n\n  useEffect(() => {\n    // console.log(\"useEffect for original db notifArray\", notifArray);\n    fetchAllData(notifArray); // console.log(\"useEffect for original db notifArray\", notifArray);\n  }, [notifArray]);\n\n  const fetchBrutNotif = async notifArray => {\n    //FIRST GET THE NOTIF IN BRUTE MODE\n    const brutNotif = await axios.get(\"http://localhost:9000/api/notif?jwt=\".concat(authContext.data.jwt, \"&uuidSource=\").concat(authContext.data.uuid, \"&category=uuid\"));\n    console.log(\"brutNotif\", brutNotif.data);\n    brutNotif.data && (await brutNotif.data.forEach((elem, index) => {\n      const parsed = JSON.parse(elem); // console.log(parsed);\n\n      console.log(Date.now());\n      notifArray.push(parsed);\n      console.log(notifArray[index]);\n    }));\n    setNbNotif(notifArray.length); // console.log(\"notif array from the brut db = \", notifArray);\n  }; // FETCHs DATA FROM DB TO COMPLETE THE NOTIF ARRAY\n  // useEffect(() => {\n  //   // console.log(\"notifArray in 2nd useEffect\", notifArray);\n  //   fetchUserData(notifArray);\n  //   console.log(\"use effect for augmented data: notifArray\", filledNotifArray);\n  // }, [notifArray]);\n\n\n  const fetchUserData = async notifArray => {\n    // if (notifArray.length === 0) return;\n    console.log(\"end\", Date.now());\n    console.log(\"notifArray in the augmented effeect\", typeof notifArray);\n    console.log(\"notifArray in the augmented effeect\", notifArray);\n    if (notifArray[0]) console.log(\"on est dans le if\");\n    console.log(\"notifArray in the augmented effeect\", notifArray[0]);\n    const promises = notifArray.map(elem => {\n      console.log(\"in the map\", elem);\n      let api = \"http://localhost:9000/api/user/findOne?jwt=\".concat(authContext.data.jwt, \"&uuidSource=\").concat(elem.uuidSource, \"&category=uuid\");\n      const responses = axios.get(api);\n      return responses;\n    });\n    console.log(\"notifArray after the map\", notifArray);\n    const results = await Promise.all(promises); // console.log(\"result before map\", results);\n\n    await results.map((elem, index) => {\n      filledNotifArray.push({\n        source: elem.data[0]._fields[0].properties,\n        info: notifArray[index]\n      });\n    }); // console.log(\"useEffect, filledNotifArray\", filledNotifArray);\n  };\n\n  socketContext.socket.on(\"newNotif\", newNotif => {\n    console.log(\"socket Notif, actual array:\", notifArray);\n    notifArray.push(newNotif);\n    setNbNotif(notifArray.length);\n    console.log(\"notifs for this socket:\", newNotif);\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(ClickAwayListener, {\n    onClickAway: handleClickAway,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    \"aria-label\": \"show 17 new notifications\",\n    color: \"inherit\",\n    onClick: handleNotif,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(Badge, {\n    badgeContent: nbNotif,\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(NotificationsIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })), React.createElement(Popper, {\n    id: id,\n    open: open,\n    anchorEl: anchorEl,\n    transition: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, ({\n    TransitionProps\n  }) => React.createElement(Fade, Object.assign({}, TransitionProps, {\n    timeout: 350,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, filledNotifArray.map((el, index) => {\n    console.log(el, index);\n    return React.createElement(NotificationCard, {\n      notif: el,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    });\n  }))))))));\n}\n\n{\n  /* <List>\n  {menuItems.map(menuItem => (\n  <IconsAndLinks key={menuItem.text} param={menuItem} />\n  ))}\n  <Divider />\n  {[\"About us\"].map((text, index) => (\n  <ListItem button key={index}>\n    <ListItemText primary={text} />\n  </ListItem>\n  ))}\n  </List> */\n}\nexport default NotificationBell;","map":{"version":3,"sources":["/Users/vlv/42/Matcha/client/src/Components/Navbar/Components/NotificationBell/NotificationBell.js"],"names":["React","useState","useContext","useEffect","NotificationsIcon","IconButton","Popper","Fade","Paper","Badge","Typography","Divider","List","AuthContext","axios","NotificationCard","ClickAwayListener","filledNotifArray","NotificationBell","notifArray","Array","socketContext","authContext","nbNotif","setNbNotif","anchorEl","setAnchorEl","open","setOpen","id","undefined","handleNotif","e","console","log","currentTarget","handleClickAway","fetchAllData","length","fetchBrutNotif","fetchUserData","brutNotif","get","data","jwt","uuid","forEach","elem","index","parsed","JSON","parse","Date","now","push","promises","map","api","uuidSource","responses","results","Promise","all","source","_fields","properties","info","socket","on","newNotif","TransitionProps","el"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AAEA,MAAMC,gBAAgB,GAAG,EAAzB;;AAEA,SAASC,gBAAT,GAA4B;AAC1B,QAAMC,UAAU,GAAG,IAAIC,KAAJ,EAAnB;;AAD0B,sBAEWlB,UAAU,CAACW,WAAD,CAFrB;AAAA;AAAA,QAEnBQ,aAFmB;AAAA,QAEJC,WAFI;;AAAA,oBAGIrB,QAAQ,CAAC,CAAD,CAHZ;AAAA;AAAA,QAGnBsB,OAHmB;AAAA,QAGVC,UAHU,kBAI1B;AACA;;;AAL0B,qBAMMvB,QAAQ,CAAC,IAAD,CANd;AAAA;AAAA,QAMnBwB,QANmB;AAAA,QAMTC,WANS;;AAAA,qBAOFzB,QAAQ,CAAC,KAAD,CAPN;AAAA;AAAA,QAOnB0B,IAPmB;AAAA,QAObC,OAPa;;AAQ1B,QAAMC,EAAE,GAAGF,IAAI,GAAG,eAAH,GAAqBG,SAApC;;AAEA,QAAMC,WAAW,GAAGC,CAAC,IAAI;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCjB,gBAAtC;AACAS,IAAAA,WAAW,CAACM,CAAC,CAACG,aAAH,CAAX;AACAP,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAJD;;AAMA,QAAMQ,eAAe,GAAG,MAAM;AAC5B;AACA,QAAIT,IAAJ,EAAU;AACRM,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCf,UAAzC,EADQ,CAER;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AACDS,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAbD;;AAeA,QAAMS,YAAY,GAAG,MAAMlB,UAAN,IAAoB;AACvCA,IAAAA,UAAU,CAACmB,MAAX,KAAsB,CAAtB,KAA4B,MAAMC,cAAc,CAACpB,UAAD,CAAhD;AACAqB,IAAAA,aAAa,CAACrB,UAAD,CAAb;AACD,GAHD,CA/B0B,CAoC1B;;;AACAhB,EAAAA,SAAS,CAAC,MAAM;AACd;AAEAkC,IAAAA,YAAY,CAAClB,UAAD,CAAZ,CAHc,CAId;AACD,GALQ,EAKN,CAACA,UAAD,CALM,CAAT;;AAOA,QAAMoB,cAAc,GAAG,MAAMpB,UAAN,IAAoB;AACzC;AACA,UAAMsB,SAAS,GAAG,MAAM3B,KAAK,CAAC4B,GAAN,+CACiBpB,WAAW,CAACqB,IAAZ,CAAiBC,GADlC,yBAEpBtB,WAAW,CAACqB,IAAZ,CAAiBE,IAFG,oBAAxB;AAKAZ,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBO,SAAS,CAACE,IAAnC;AAEAF,IAAAA,SAAS,CAACE,IAAV,KACG,MAAMF,SAAS,CAACE,IAAV,CAAeG,OAAf,CAAuB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC7C,YAAMC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAf,CAD6C,CAE7C;;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAYkB,IAAI,CAACC,GAAL,EAAZ;AAEAlC,MAAAA,UAAU,CAACmC,IAAX,CAAgBL,MAAhB;AACAhB,MAAAA,OAAO,CAACC,GAAR,CAAYf,UAAU,CAAC6B,KAAD,CAAtB;AACD,KAPM,CADT;AASAxB,IAAAA,UAAU,CAACL,UAAU,CAACmB,MAAZ,CAAV,CAlByC,CAmBzC;AACD,GApBD,CA5C0B,CAkE1B;AACA;AACA;AACA;AACA;AACA;;;AAEA,QAAME,aAAa,GAAG,MAAMrB,UAAN,IAAoB;AACxC;AACAc,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBkB,IAAI,CAACC,GAAL,EAAnB;AAEApB,IAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmD,OAAOf,UAA1D;AACAc,IAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmDf,UAAnD;AACA,QAAIA,UAAU,CAAC,CAAD,CAAd,EAAmBc,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACnBD,IAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmDf,UAAU,CAAC,CAAD,CAA7D;AACA,UAAMoC,QAAQ,GAAGpC,UAAU,CAACqC,GAAX,CAAeT,IAAI,IAAI;AACtCd,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Ba,IAA1B;AACA,UAAIU,GAAG,wDACLnC,WAAW,CAACqB,IAAZ,CAAiBC,GADZ,yBAEQG,IAAI,CAACW,UAFb,mBAAP;AAGA,YAAMC,SAAS,GAAG7C,KAAK,CAAC4B,GAAN,CAAUe,GAAV,CAAlB;AACA,aAAOE,SAAP;AACD,KAPgB,CAAjB;AAQA1B,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCf,UAAxC;AACA,UAAMyC,OAAO,GAAG,MAAMC,OAAO,CAACC,GAAR,CAAYP,QAAZ,CAAtB,CAjBwC,CAkBxC;;AACA,UAAMK,OAAO,CAACJ,GAAR,CAAY,CAACT,IAAD,EAAOC,KAAP,KAAiB;AACjC/B,MAAAA,gBAAgB,CAACqC,IAAjB,CAAsB;AACpBS,QAAAA,MAAM,EAAEhB,IAAI,CAACJ,IAAL,CAAU,CAAV,EAAaqB,OAAb,CAAqB,CAArB,EAAwBC,UADZ;AAEpBC,QAAAA,IAAI,EAAE/C,UAAU,CAAC6B,KAAD;AAFI,OAAtB;AAID,KALK,CAAN,CAnBwC,CAyBxC;AACD,GA1BD;;AA4BA3B,EAAAA,aAAa,CAAC8C,MAAd,CAAqBC,EAArB,CAAwB,UAAxB,EAAoCC,QAAQ,IAAI;AAC9CpC,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2Cf,UAA3C;AACAA,IAAAA,UAAU,CAACmC,IAAX,CAAgBe,QAAhB;AACA7C,IAAAA,UAAU,CAACL,UAAU,CAACmB,MAAZ,CAAV;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCmC,QAAvC;AACD,GALD;AAOA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,iBAAD;AAAmB,IAAA,WAAW,EAAEjC,eAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AACE,kBAAW,2BADb;AAEE,IAAA,KAAK,EAAC,SAFR;AAGE,IAAA,OAAO,EAAEL,WAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,KAAD;AAAO,IAAA,YAAY,EAAER,OAArB;AAA8B,IAAA,KAAK,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,EASE,oBAAC,MAAD;AAAQ,IAAA,EAAE,EAAEM,EAAZ;AAAgB,IAAA,IAAI,EAAEF,IAAtB;AAA4B,IAAA,QAAQ,EAAEF,QAAtC;AAAgD,IAAA,UAAU,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC;AAAE6C,IAAAA;AAAF,GAAD,KACC,oBAAC,IAAD,oBAAUA,eAAV;AAA2B,IAAA,OAAO,EAAE,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrD,gBAAgB,CAACuC,GAAjB,CAAqB,CAACe,EAAD,EAAKvB,KAAL,KAAe;AACnCf,IAAAA,OAAO,CAACC,GAAR,CAAYqC,EAAZ,EAAgBvB,KAAhB;AACA,WAAO,oBAAC,gBAAD;AAAkB,MAAA,KAAK,EAAEuB,EAAzB;AAA6B,MAAA,GAAG,EAAEvB,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAHA,CADH,CADF,CADF,CAFJ,CATF,CADF,CADF,CADF;AA8BD;;AAED;AACE;;;;;;;;;;;AAWD;AACD,eAAe9B,gBAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Popper from \"@material-ui/core/Popper\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport { AuthContext } from \"../../../../AuthContext\";\nimport axios from \"axios\";\nimport NotificationCard from \"./NotificationCard\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n\nconst filledNotifArray = [];\n\nfunction NotificationBell() {\n  const notifArray = new Array();\n  const [socketContext, authContext] = useContext(AuthContext);\n  const [nbNotif, setNbNotif] = useState(0);\n  // socketContext.notifArray ? socketContext.notifArray.length : 0\n  // );\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [open, setOpen] = useState(false);\n  const id = open ? \"simple-popper\" : undefined;\n\n  const handleNotif = e => {\n    console.log(\"onclick, fillednotif :\", filledNotifArray);\n    setAnchorEl(e.currentTarget);\n    setOpen(true);\n  };\n\n  const handleClickAway = () => {\n    // console.log(\"click away\", notifArray);\n    if (open) {\n      console.log(\"click away, notif errased\", notifArray);\n      //   notifArray.length = 0;\n      //   filledNotifArray.length = 0;\n      //   axios.post(\"http://localhost:9000/api/notif/delete\", {\n      //     jwt: authContext.data.jwt,\n      //     uuidSource: authContext.data.uuid\n      //   });\n      //   setNbNotif(0);\n    }\n    setOpen(false);\n  };\n\n  const fetchAllData = async notifArray => {\n    notifArray.length === 0 && (await fetchBrutNotif(notifArray));\n    fetchUserData(notifArray);\n  };\n\n  // GET THE RAW DATA FROM THE BACK ONCE AND PUT IT IN NOTIFARRAY\n  useEffect(() => {\n    // console.log(\"useEffect for original db notifArray\", notifArray);\n\n    fetchAllData(notifArray);\n    // console.log(\"useEffect for original db notifArray\", notifArray);\n  }, [notifArray]);\n\n  const fetchBrutNotif = async notifArray => {\n    //FIRST GET THE NOTIF IN BRUTE MODE\n    const brutNotif = await axios.get(\n      `http://localhost:9000/api/notif?jwt=${authContext.data.jwt}&uuidSource=${\n        authContext.data.uuid\n      }&category=uuid`\n    );\n    console.log(\"brutNotif\", brutNotif.data);\n\n    brutNotif.data &&\n      (await brutNotif.data.forEach((elem, index) => {\n        const parsed = JSON.parse(elem);\n        // console.log(parsed);\n        console.log(Date.now());\n\n        notifArray.push(parsed);\n        console.log(notifArray[index]);\n      }));\n    setNbNotif(notifArray.length);\n    // console.log(\"notif array from the brut db = \", notifArray);\n  };\n\n  // FETCHs DATA FROM DB TO COMPLETE THE NOTIF ARRAY\n  // useEffect(() => {\n  //   // console.log(\"notifArray in 2nd useEffect\", notifArray);\n  //   fetchUserData(notifArray);\n  //   console.log(\"use effect for augmented data: notifArray\", filledNotifArray);\n  // }, [notifArray]);\n\n  const fetchUserData = async notifArray => {\n    // if (notifArray.length === 0) return;\n    console.log(\"end\", Date.now());\n\n    console.log(\"notifArray in the augmented effeect\", typeof notifArray);\n    console.log(\"notifArray in the augmented effeect\", notifArray);\n    if (notifArray[0]) console.log(\"on est dans le if\");\n    console.log(\"notifArray in the augmented effeect\", notifArray[0]);\n    const promises = notifArray.map(elem => {\n      console.log(\"in the map\", elem);\n      let api = `http://localhost:9000/api/user/findOne?jwt=${\n        authContext.data.jwt\n      }&uuidSource=${elem.uuidSource}&category=uuid`;\n      const responses = axios.get(api);\n      return responses;\n    });\n    console.log(\"notifArray after the map\", notifArray);\n    const results = await Promise.all(promises);\n    // console.log(\"result before map\", results);\n    await results.map((elem, index) => {\n      filledNotifArray.push({\n        source: elem.data[0]._fields[0].properties,\n        info: notifArray[index]\n      });\n    });\n    // console.log(\"useEffect, filledNotifArray\", filledNotifArray);\n  };\n\n  socketContext.socket.on(\"newNotif\", newNotif => {\n    console.log(\"socket Notif, actual array:\", notifArray);\n    notifArray.push(newNotif);\n    setNbNotif(notifArray.length);\n    console.log(\"notifs for this socket:\", newNotif);\n  });\n\n  return (\n    <div>\n      <ClickAwayListener onClickAway={handleClickAway}>\n        <IconButton\n          aria-label=\"show 17 new notifications\"\n          color=\"inherit\"\n          onClick={handleNotif}\n        >\n          <Badge badgeContent={nbNotif} color=\"primary\">\n            <NotificationsIcon />\n          </Badge>\n\n          <Popper id={id} open={open} anchorEl={anchorEl} transition>\n            {({ TransitionProps }) => (\n              <Fade {...TransitionProps} timeout={350}>\n                <Paper>\n                  <List>\n                    {filledNotifArray.map((el, index) => {\n                      console.log(el, index);\n                      return <NotificationCard notif={el} key={index} />;\n                    })}\n                  </List>\n                </Paper>\n              </Fade>\n            )}\n          </Popper>\n        </IconButton>\n      </ClickAwayListener>\n    </div>\n  );\n}\n\n{\n  /* <List>\n{menuItems.map(menuItem => (\n  <IconsAndLinks key={menuItem.text} param={menuItem} />\n))}\n<Divider />\n{[\"About us\"].map((text, index) => (\n  <ListItem button key={index}>\n    <ListItemText primary={text} />\n  </ListItem>\n))}\n</List> */\n}\nexport default NotificationBell;\n"]},"metadata":{},"sourceType":"module"}