{"ast":null,"code":"var _jsxFileName = \"/Users/vlv/42/matchaChat/client/src/Scenes/Profile/Components/FormProfile.js\";\nimport React from \"react\";\nimport useProfileForm from \"./useProfileForm\";\nimport { Formik } from \"formik\"; // import { valuesValidations } from \"./../../Home/Components/UserValidation\";\n\nimport \"./FormProfile.css\";\nimport axios from \"axios\";\nimport { FirstName, LastName, Email, Login, Bio, Gender, SexualOrientation, Age, UploadFile, Submit } from \"./Components/FieldsForm\";\n\nfunction FormProfile() {\n  const _useProfileForm = useProfileForm(),\n        values = _useProfileForm.values,\n        handlePreview = _useProfileForm.handlePreview,\n        handleCancel = _useProfileForm.handleCancel;\n\n  return React.createElement(Formik, {\n    initialValues: values,\n    onSubmit: async values => {\n      // validate={valuesValidations}\n      console.log(\"the values are\", values);\n      const userValues = JSON.parse(sessionStorage.getItem(\"data\")); // *******  UPLOAD PICTURES\n\n      const files = Array.from(values.fileList);\n      const formData = new FormData();\n      files.forEach((file, i) => {\n        formData.append(i, file.originFileObj);\n      }); // ---- send data to back for images\n\n      const api = \"http://localhost:9000/api/user/profile?login=\".concat(userValues.login, \"&jwt=\").concat(userValues.jwt);\n      await fetch(api, {\n        method: \"POST\",\n        body: formData\n      }); // .then(res => console.log(\"result of fetch post image =\", res));\n      // values.fileList = returnOfPics.data.fileList;\n      // ---- send data to back for info\n\n      console.log(\"ta maman\", values);\n      delete values.previewVisible;\n      values.fileList = [];\n      delete values.previewImage;\n      delete values.pics;\n      let newData = await axios.patch(api, {\n        values\n      }).catch(err => console.log(err)); // // sessionStorage.setItem(\"data\", JSON.stringify(newData.data));\n\n      console.log(\"newData\", newData);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, ({\n    values,\n    errors,\n    handleBlur,\n    touched,\n    handleChange,\n    setFieldValue,\n    handleSubmit\n  }) => React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"containerFormProfile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(FirstName, {\n    value: values.firstName,\n    onChange: handleChange(\"firstName\"),\n    onBlur: handleBlur,\n    helperText: [errors.firstName, touched.firstName, errors.firstName],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(LastName, {\n    value: values.lastName,\n    onChange: handleChange(\"lastName\"),\n    onBlur: handleBlur,\n    helperText: [errors.lastName, touched.lastName, errors.lastName],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"I am a ...\"), React.createElement(Gender, {\n    value: values.gender,\n    onChange: handleChange(\"gender\"),\n    onBlur: handleBlur,\n    helperText: [errors.gender, touched.gender, errors.gender],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"I want to date\"), React.createElement(SexualOrientation, {\n    value: values.sexualOrientation,\n    onChange: handleChange(\"sexualOrientation\"),\n    helperText: [errors.sexualOrientation, touched.sexualOrientation, errors.sexualOrientation],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"localisation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Where I live...\")), React.createElement(\"div\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(Login, {\n    value: values.login,\n    onChange: handleChange(\"login\"),\n    onBlur: handleBlur,\n    helperText: [errors.login, touched.login, errors.login],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }), React.createElement(Age, {\n    value: values.age,\n    onChange: handleChange(\"age\"),\n    onBlur: handleBlur,\n    helperText: [errors.age, touched.age, errors.age],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"mail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(Email, {\n    value: values.email,\n    onChange: handleChange(\"email\"),\n    onBlur: handleBlur,\n    helperText: [errors.email, touched.email, errors.email],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"bio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Tell us something about you :\", React.createElement(Bio, {\n    value: values.bio,\n    onChange: handleChange(\"bio\"),\n    onBlur: handleBlur,\n    helperText: [errors.bio, touched.bio, errors.bio],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"photos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Your photos\", React.createElement(UploadFile, {\n    fileList: values.fileList,\n    onBlur: handleBlur,\n    onPreview: handlePreview,\n    values: values,\n    setFieldValue: setFieldValue,\n    handleCancel: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(Submit, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  })))));\n}\n\nexport default FormProfile;","map":{"version":3,"sources":["/Users/vlv/42/matchaChat/client/src/Scenes/Profile/Components/FormProfile.js"],"names":["React","useProfileForm","Formik","axios","FirstName","LastName","Email","Login","Bio","Gender","SexualOrientation","Age","UploadFile","Submit","FormProfile","values","handlePreview","handleCancel","console","log","userValues","JSON","parse","sessionStorage","getItem","files","Array","from","fileList","formData","FormData","forEach","file","i","append","originFileObj","api","login","jwt","fetch","method","body","previewVisible","previewImage","pics","newData","patch","catch","err","errors","handleBlur","touched","handleChange","setFieldValue","handleSubmit","firstName","lastName","gender","sexualOrientation","age","email","bio"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport useProfileForm from \"./useProfileForm\";\nimport { Formik } from \"formik\";\n// import { valuesValidations } from \"./../../Home/Components/UserValidation\";\nimport \"./FormProfile.css\";\nimport axios from \"axios\";\n\nimport {\n  FirstName,\n  LastName,\n  Email,\n  Login,\n  Bio,\n  Gender,\n  SexualOrientation,\n  Age,\n  UploadFile,\n  Submit\n} from \"./Components/FieldsForm\";\n\nfunction FormProfile() {\n  const { values, handlePreview, handleCancel } = useProfileForm();\n\n  return (\n    <Formik\n      initialValues={values}\n      onSubmit={async values => {\n        // validate={valuesValidations}\n        console.log(\"the values are\", values);\n        const userValues = JSON.parse(sessionStorage.getItem(\"data\"));\n        // *******  UPLOAD PICTURES\n        const files = Array.from(values.fileList);\n        const formData = new FormData();\n        files.forEach((file, i) => {\n          formData.append(i, file.originFileObj);\n        });\n        // ---- send data to back for images\n        const api = `http://localhost:9000/api/user/profile?login=${\n          userValues.login\n        }&jwt=${userValues.jwt}`;\n        await fetch(api, {\n          method: \"POST\",\n          body: formData\n        });\n        // .then(res => console.log(\"result of fetch post image =\", res));\n        // values.fileList = returnOfPics.data.fileList;\n        // ---- send data to back for info\n        console.log(\"ta maman\", values);\n        delete values.previewVisible;\n        values.fileList = [];\n\n        delete values.previewImage;\n        delete values.pics;\n        let newData = await axios\n          .patch(api, { values })\n          .catch(err => console.log(err));\n        // // sessionStorage.setItem(\"data\", JSON.stringify(newData.data));\n        console.log(\"newData\", newData);\n      }}\n    >\n      {({\n        values,\n        errors,\n        handleBlur,\n        touched,\n        handleChange,\n        setFieldValue,\n        handleSubmit\n      }) => (\n        <form onSubmit={handleSubmit}>\n          <div className=\"containerFormProfile\">\n            <div className=\"name\">\n              <FirstName\n                value={values.firstName}\n                onChange={handleChange(\"firstName\")}\n                onBlur={handleBlur}\n                helperText={[\n                  errors.firstName,\n                  touched.firstName,\n                  errors.firstName\n                ]}\n              />\n              <LastName\n                value={values.lastName}\n                onChange={handleChange(\"lastName\")}\n                onBlur={handleBlur}\n                helperText={[\n                  errors.lastName,\n                  touched.lastName,\n                  errors.lastName\n                ]}\n              />\n            </div>\n            <div className=\"search\">\n              <h2>I am a ...</h2>\n              <Gender\n                value={values.gender}\n                onChange={handleChange(\"gender\")}\n                onBlur={handleBlur}\n                helperText={[errors.gender, touched.gender, errors.gender]}\n              />\n              <h2>I want to date</h2>\n              <SexualOrientation\n                value={values.sexualOrientation}\n                onChange={handleChange(\"sexualOrientation\")}\n                helperText={[\n                  errors.sexualOrientation,\n                  touched.sexualOrientation,\n                  errors.sexualOrientation\n                ]}\n              />\n            </div>\n            <div className=\"localisation\">\n              <h2>Where I live...</h2>\n            </div>\n            <div className=\"login\">\n              <Login\n                value={values.login}\n                onChange={handleChange(\"login\")}\n                onBlur={handleBlur}\n                helperText={[errors.login, touched.login, errors.login]}\n              />\n              <Age\n                value={values.age}\n                onChange={handleChange(\"age\")}\n                onBlur={handleBlur}\n                helperText={[errors.age, touched.age, errors.age]}\n              />\n            </div>\n            <div className=\"mail\">\n              <Email\n                value={values.email}\n                onChange={handleChange(\"email\")}\n                onBlur={handleBlur}\n                helperText={[errors.email, touched.email, errors.email]}\n              />\n              {/* <Email\n                value={values.email}\n                onChange={handleChange(\"email\")}\n                onBlur={handleBlur}\n                helperText={[errors.email, touched.email, errors.email]}\n              /> */}\n            </div>\n            <div className=\"bio\">\n              Tell us something about you :\n              <Bio\n                value={values.bio}\n                onChange={handleChange(\"bio\")}\n                onBlur={handleBlur}\n                helperText={[errors.bio, touched.bio, errors.bio]}\n              />\n            </div>\n            <div className=\"photos\">\n              Your photos\n              <UploadFile\n                fileList={values.fileList}\n                onBlur={handleBlur}\n                onPreview={handlePreview}\n                values={values}\n                setFieldValue={setFieldValue}\n                handleCancel={handleCancel}\n              />\n            </div>\n            <div className=\"submit\">\n              <Submit />\n            </div>\n          </div>\n        </form>\n      )}\n    </Formik>\n  );\n}\n\nexport default FormProfile;\n"]},"metadata":{},"sourceType":"module"}